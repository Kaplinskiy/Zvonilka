# Coturn configuration template (clean)
# Replace TURN_IP and TURN_SECRET with your deployment values.
# If you do not have a second IP, do NOT duplicate external-ip/listening-ip.
# UDP is enabled by default; keep both UDP(3478) and TLS/TCP(5349).

realm=turn.zababba.com
use-auth-secret=yes
static-auth-secret=${TURN_SECRET}

# Ports
listening-port=3478
tls-listening-port=5349

# Public and listening addresses (single-IP by default)
listening-ip=${TURN_IP}
external-ip=${TURN_IP}

# If you truly have a second public IP, uncomment BOTH lines below:
# listening-ip=${TURN_IP2}
# external-ip=${TURN_IP2}

# Relay port range
min-port=50000
max-port=50100

# Security and session management
stale-nonce=60
user-quota=2
total-quota=1200
no-tlsv1
no-tlsv1_1

# TLS certs (for 5349)
cert=/etc/turn/cert.pem
pkey=/etc/turn/privkey.pem

# Recommended flags
fingerprint
simple-log
verbose
#no-cli

# DO NOT set the following here (removed as harmful/misleading):
# - tcp-relay
# - relay-transport=tcp
# - no-udp
# - no-dtls
# - duplicate external-ip/listening-ip/relay-ip entries
