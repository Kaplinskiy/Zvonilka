<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ó–≤–æ–Ω–∏–ª–∫–∞ –ö–∞–ø–ª–∏–Ω—Å–∫–æ–≥–æ</title>
  <!-- Meta: PWA / Social / SEO -->
  <meta name="theme-color" content="#0b0f14">
  <meta name="description" content="–ü—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥—ë–∂–Ω—ã–π –≤–µ–±‚Äë–∑–≤–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ WebRTC. –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Å–µ—Ç—è—Ö (TURN 443/TCP).">
  <meta property="og:type" content="website">
  <meta property="og:title" content="–ó–≤–æ–Ω–∏–ª–∫–∞ –ö–∞–ø–ª–∏–Ω—Å–∫–æ–≥–æ">
  <meta property="og:description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö WhatsApp/Telegram.">
  <meta property="og:url" content="https://call.zababba.com/">
  <meta property="og:image" content="https://call.zababba.com/public/favicon.svg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="–ó–≤–æ–Ω–∏–ª–∫–∞ –ö–∞–ø–ª–∏–Ω—Å–∫–æ–≥–æ">
  <meta name="twitter:description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≥–æ–ª–æ—Å–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö WhatsApp/Telegram.">
  <link rel="apple-touch-icon" href="/public/favicon.svg">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E">
  <link rel="manifest" href="/public/manifest.webmanifest">
  <link rel="icon" type="image/svg+xml" href="/public/favicon.svg">
  <style>
    :root{
      --bg:#0b0f14;--fg:#e8f0fe;--muted:#9fb0c2;--card:#111826;
      --stroke:#1e293b;--accent:#22c55e;--accent2:#3b82f6;--err:#ef4444;--warn:#f59e0b;
      --gap:12px
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,'Noto Sans',sans-serif}
    .wrap{max-width:960px;margin:0 auto;padding:20px}
    h1{font-size:22px;margin:6px 0 16px}
    .card{background:var(--card);border:1px solid var(--stroke);border-radius:16px;padding:16px;box-shadow:0 6px 24px rgba(0,0,0,.35);margin-bottom:16px}
    .row{display:flex;gap:var(--gap);flex-wrap:wrap;align-items:center}
    .row>*{flex:1 1 220px}
    .controls .row>*{flex:1 1 260px}
    button{appearance:none;border:0;background:var(--accent2);color:#fff;padding:14px 16px;border-radius:14px;font-weight:700;cursor:pointer;box-shadow:0 6px 16px rgba(59,130,246,.35);transition:transform .04s ease}
    button:active{transform:translateY(1px)}
    button.primary{background:var(--accent)}
    button.warn{background:var(--warn);color:#111}
    button.ghost{background:#152030;color:#cfe0f6;border:1px solid #22324a;box-shadow:none}
    button:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}
    .muted{color:var(--muted);font-size:13px}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#0f172a;border:1px solid #22324a;font-size:12px;color:#cfe0f6}
    audio{width:100%;margin-top:8px}
    .hidden{display:none}
    .ok{color:#22c55e}.warn-txt{color:var(--warn)}.err{color:var(--err)}
    .big{font-size:18px}
    .center{text-align:center}
    .kvs{display:grid;grid-template-columns:180px 1fr;gap:6px 10px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    #logList{max-height:220px;overflow:auto;background:#0b1220;border:1px solid #253041;border-radius:12px;padding:8px}
    #logList .it{font-size:12px;border-bottom:1px dashed #263445;padding:4px 0}
    .sep{height:1px;background:#22324a;margin:10px 0}
    .btnbar{display:flex;flex-wrap:wrap;gap:var(--gap)}
    .btnbar > *{flex:1 1 240px}
    .badge{display:inline-block;padding:4px 8px;border-radius:8px;background:#102035;border:1px solid #20314a;color:#b6c7da;font-size:12px}
    dialog{border:1px solid var(--stroke);background:var(--card);color:var(--fg);border-radius:16px;max-width:720px;width:92%;padding:0;box-shadow:0 10px 40px rgba(0,0,0,.55)}
    dialog::backdrop{background:rgba(0,0,0,.6)}
    .dlg-head{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid var(--stroke)}
    .dlg-body{padding:16px;max-height:min(70vh,560px);overflow:auto}
    .dlg-body h3{margin:.2em 0 .6em;font-size:18px}
    .list {margin:0;padding-left:18px;color:var(--fg)}
    .list li{margin:.3em 0}
    .link{color:#99c0ff;text-decoration:none}
    .topline{display:grid;grid-template-columns:1fr auto;gap:var(--gap);align-items:center}
    .topline .spacer{display:none}
    .status-area{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .status-note{min-width:260px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üìû –ó–≤–æ–Ω–∏–ª–∫–∞ –ö–∞–ø–ª–∏–Ω—Å–∫–æ–≥–æ</h1>

    <div class="card">
      <div class="topline">
        <div class="status-area">
          <span class="pill">–°—Ç–∞—Ç—É—Å: <span id="status" aria-live="polite">–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è‚Ä¶</span></span>
          <span class="badge" id="roomNote">‚Äî</span>
        </div>
        <div class="spacer"></div>
        <div class="btnbar" style="flex:0 0 auto;gap:8px">
          <button id="btnHowTo" class="ghost">üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
          <button id="btnAbout" class="ghost">‚ÑπÔ∏è –û –ø—Ä–æ–≥—Ä–∞–º–º–µ</button>
          <button id="btnDebug" class="ghost">üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞</button>
        </div>
      </div>

      <div id="note" class="muted status-note">–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ‚Ä¶</div>

      <audio id="remoteAudio" controls autoplay playsinline></audio>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="card controls">
      <div class="btnbar">
        <button id="btnCall"   class="primary big">üìû –ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫</button>
        <button id="btnAnswer" class="big hidden">‚úÖ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–≤–æ–Ω–æ–∫</button>
        <button id="btnHang"   class="warn big" disabled>üõë –ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
      </div>

      <div id="shareWrap" class="hidden" style="margin-top:var(--gap)">
        <div class="btnbar">
          <button id="btnNativeShare" class="primary">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          <button id="btnCopy"        class="">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
        </div>
        <div style="margin-top:8px">
          <label class="muted">–°—Å—ã–ª–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</label>
          <input id="shareLink" type="text" readonly value="(–±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ)" style="width:100%;background:#0b1220;color:var(--fg);border:1px solid #253041;border-radius:12px;padding:10px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace">
          <div class="muted">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫—É (–≤ WhatsApp ‚Üí ¬´–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ¬ª).</div>
        </div>
      </div>
    </div>

    <!-- –û—Ç–ª–∞–¥–∫–∞ -->
    <div id="debugBlock" class="card hidden">
      <h3 style="margin-top:0">–û—Ç–ª–∞–¥–∫–∞</h3>
      <div class="kvs">
        <div class="muted">–ü—Ä–æ—Ç–æ–∫–æ–ª</div>          <div id="dbgProto"  class="mono">‚Äî</div>
        <div class="muted">Secure context</div>    <div id="dbgSecure" class="mono">‚Äî</div>
        <div class="muted">getUserMedia</div>      <div id="dbgGUM"    class="mono">‚Äî</div>
        <div class="muted">RTCPeerConnection</div> <div id="dbgPC"     class="mono">‚Äî</div>
        <div class="muted">User-Agent</div>        <div id="dbgUA"     class="mono">‚Äî</div>
        <div class="muted">In-App –±—Ä–∞—É–∑–µ—Ä</div>    <div id="dbgInApp"  class="mono">‚Äî</div>
      </div>
      <div class="sep"></div>
      <div class="row">
        <button id="btnCopyDiag">üß∞ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç</button>
        <div class="muted">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –ø—Ä–∏—à–ª–∏—Ç–µ –Ω–∞–º –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ.</div>
      </div>
      <div id="logList" class="mono" aria-live="polite"></div>
    </div>
  </div>

  <!-- –î–∏–∞–ª–æ–≥: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
  <dialog id="dlgHowTo">
    <div class="dlg-head">
      <strong>üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</strong>
      <button class="ghost" onclick="this.closest('dialog').close()">‚úñ</button>
    </div>
    <div class="dlg-body">
      <h3>–ö–∞–∫ –ø–æ–∑–≤–æ–Ω–∏—Ç—å</h3>
      <ol class="list">
        <li>–ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç <a class="link" href="https://call.zababba.com" target="_blank" rel="noopener">call.zababba.com</a>.</li>
        <li>–ù–∞–∂–º–∏—Ç–µ ¬´–ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫¬ª –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Å—ã–ª–∫—É.</li>
        <li>–ü–æ–ø—Ä–æ—Å–∏—Ç–µ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É –≤–æ –≤–Ω–µ—à–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏ –Ω–∞–∂–∞—Ç—å ¬´–û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–≤–æ–Ω–æ–∫¬ª.</li>
        <li>–ü–æ—Å–ª–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª.</li>
      </ol>

      <h3>–ß—Ç–æ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º</h3>
      <p>–ó–≤–æ–Ω–∫–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç WebRTC –∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä (TURN) –Ω–∞ –ø–æ—Ä—Ç—É 443/TCP, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ –¥–∞–∂–µ –ø—Ä–∏ —Å—Ç—Ä–æ–≥–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö —Å–µ—Ç–∏.</p>

      <h3>–ï—Å–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è</h3>
      <ul class="list">
        <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É –≤–æ –≤–Ω–µ—à–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ (–≤ WhatsApp/Telegram ‚Üí ¬´–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ¬ª).</li>
        <li>–†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É.</li>
        <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∞–π—Ç –æ—Ç–∫—Ä—ã—Ç –ø–æ HTTPS.</li>
      </ul>
    </div>
  </dialog>

  <!-- –î–∏–∞–ª–æ–≥: –û –ø—Ä–æ–≥—Ä–∞–º–º–µ -->
  <dialog id="dlgAbout">
    <div class="dlg-head">
      <strong>‚ÑπÔ∏è –û –ø—Ä–æ–≥—Ä–∞–º–º–µ</strong>
      <button class="ghost" onclick="this.closest('dialog').close()">‚úñ</button>
    </div>
    <div class="dlg-body">
      <p><b>–ó–≤–æ–Ω–∏–ª–∫–∞ –ö–∞–ø–ª–∏–Ω—Å–∫–æ–≥–æ</b> ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–π –∏ —Å–∫—Ä–æ–º–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç-—Ö–æ–±–±–∏, —Ä–æ–¥–∏–≤—à–∏–π—Å—è —Å –ø–æ–º–æ—â—å—é AI –ø–æ—Å–ª–µ –º–∞—Å—Å–æ–≤—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å–≤—è–∑–∏ —á–µ—Ä–µ–∑ WhatsApp –∏ Telegram –≤ –†–æ—Å—Å–∏–∏. –¶–µ–ª—å ‚Äî –ø—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥—ë–∂–Ω–∞—è –≥–æ–ª–æ—Å–æ–≤–∞—è —Å–≤—è–∑—å –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</p>
      <p>–†–∞–∑–≥–æ–≤–æ—Ä—ã <b>–Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è</b> –∏ –Ω–∏–∫–æ–º—É –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è ‚Äî <b>—ç—Ç–æ —è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é</b>. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞.</p>
      <p>–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π: <a class="link" href="mailto:mail@zababba.com">mail@zababba.com</a></p>
    </div>
  </dialog>

  <script src="/config.js"
          onerror="window.__APP_CONFIG__={SERVER_URL:'https://call.zababba.com/signal',WS_URL:'wss://call.zababba.com/ws'}"></script>

<!-- –±—ã–ª–æ 4 —Ç–µ–≥–∞ /public/js/... -->
<script type="module" src="/src/main.js"></script>

  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(() => { try{ addLog('info','SW registered'); }catch{} })
        .catch((e) => { try{ addLog('error','SW register failed: '+(e.message||e)); }catch{} });
    });
  }
  </script>                 
  
  
  
</body>
</html>